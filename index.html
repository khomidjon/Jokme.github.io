<!DOCTYPE html>
<html lang="uz">
<head>
    <meta charset="UTF-8">
    <title>Homidjon - Auth</title>
    <script>
        window.handleCredentialResponse = (response) => {
            console.log("Login jarayoni boshlandi...");
            try {
                const payload = JSON.parse(atob(response.credential.split('.')[1]));
                console.log("Salom, " + payload.name);

                // Ma'lumotni saqlash
                localStorage.setItem('atom_user', JSON.stringify({
                    name: payload.name,
                    email: payload.email,
                    picture: payload.picture
                }));
                // Dashboardga o'tish
                window.location.href = 'dashboard.html';
            } catch (e) {
                console.error("Dekodlashda xato:", e);
            }
        };
    </script>

    <script src="https://accounts.google.com/gsi/client" async defer></script>
    <style>
        /* Glass Effect (Oyna effekti) */
        .login-box {
            background: rgba(255, 255, 255, 0.05); /* Shaffof oq */
            backdrop-filter: blur(15px); /* Orqani xiralashtirish */
            -webkit-backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 255, 255, 0.1); /* Yupqa chegara */
            padding: 40px;
            border-radius: 24px;
            box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.8);
            transition: 0.3s ease;
        }
        /* Tugma effekti */
        .login-box:hover {
            border: 1px solid rgba(0, 113, 227, 0.4); /* Apple Blue rangda nurlanish */
        }
        /* Animatsion GIF yoki Fon uchun */
            .bg-animation {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1; /* Orqa fonga o'tkazish */
            object-fit: cover;
            opacity: 0.6; /* GIF juda yorqin bo'lsa, xiraroq qilamiz */
        }
        body { background: #000; color: #fff; font-family: sans-serif; text-align: center; display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100vh; margin: 0; }
        .hero { margin-bottom: 20px; }
        h1 { font-size: 40px; }
        .login-box { background: rgba(255,255,255,0.1); padding: 20px; border-radius: 20px; backdrop-filter: blur(10px); }
    </style>
</head>
<body>
    <div id="g_id_onload"
         data-client_id="532407535407-t122jsgms7oqvtei0p46sb3bql3bpptu.apps.googleusercontent.com"
         data-callback="handleCredentialResponse"
         data-auto_prompt="false">
    </div>

        <div class="google-login-wrapper" style="position: relative; cursor: pointer;">
        <div class="my-custom-btn" style="display: flex; align-items: center; justify-content: center; background: white; color: black; padding: 10px; border-radius: 8px;">
            <img src="https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg" style="width: 20px; margin-right: 10px;">
            <span>Google orqali kirish</span>
        </div>

        <div class="g_id_signin" 
             data-type="standard" 
             data-shape="rectangular" 
             data-theme="outline" 
             data-text="signin_with" 
             data-size="large" 
             data-logo_alignment="left"
             style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; opacity: 0.01;">
        </div>
    </div>
    <div class="hero">
        <h1>ASSALOMU ALEYKUM XUSH KELIBSIZ!</h1>
        <p>JARVIS AI biz bilan birga yarating</p>
    </div>
    <div class="login-box">
        <div id="g_id_onload"
             data-client_id="532407535407-t122jsgms7oqvtei0p46sb3bql3bpptu.apps.googleusercontent.com"
             data-callback="handleCredentialResponse">
        </div>
        <div class="g_id_signin" data-type="standard"></div>
    </div>
</body>
</html><!DOCTYPE html>
<html lang="uz">
<head>
    <meta charset="UTF-8">
    <title>Homidjon - Auth</title>
    <script>
        window.handleCredentialResponse = (response) => {
            console.log("Login jarayoni boshlandi...");
            try {
                const payload = JSON.parse(atob(response.credential.split('.')[1]));
                console.log("Salom, " + payload.name);

                // Ma'lumotni saqlash
                localStorage.setItem('atom_user', JSON.stringify({
                    name: payload.name,
                    email: payload.email,
                    picture: payload.picture
                }));
                // Dashboardga o'tish
                window.location.href = 'dashboard.html';
            } catch (e) {
                console.error("Dekodlashda xato:", e);
            }
        };
    </script>

    <script src="https://accounts.google.com/gsi/client" async defer></script>
    <style>
        /* Glass Effect (Oyna effekti) */
        .login-box {
            background: rgba(255, 255, 255, 0.05); /* Shaffof oq */
            backdrop-filter: blur(15px); /* Orqani xiralashtirish */
            -webkit-backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 255, 255, 0.1); /* Yupqa chegara */
            padding: 40px;
            border-radius: 24px;
            box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.8);
            transition: 0.3s ease;
        }
        /* Tugma effekti */
        .login-box:hover {
            border: 1px solid rgba(0, 113, 227, 0.4); /* Apple Blue rangda nurlanish */
        }
        /* Animatsion GIF yoki Fon uchun */
            .bg-animation {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1; /* Orqa fonga o'tkazish */
            object-fit: cover;
            opacity: 0.6; /* GIF juda yorqin bo'lsa, xiraroq qilamiz */
        }
        body { background: #000; color: #fff; font-family: sans-serif; text-align: center; display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100vh; margin: 0; }
        .hero { margin-bottom: 20px; }
        h1 { font-size: 40px; }
        .login-box { background: rgba(255,255,255,0.1); padding: 20px; border-radius: 20px; backdrop-filter: blur(10px); }
    </style>
</head>
<body>
    <div class="hero">
        <h1>ASSALOMU ALEYKUM XUSH KELIBSIZ!</h1>
        <p>JARVIS AI biz bilan birga yarating</p>
    </div>
    <div class="login-box">
        <div id="g_id_onload"
             data-client_id="532407535407-t122jsgms7oqvtei0p46sb3bql3bpptu.apps.googleusercontent.com"
             data-callback="handleCredentialResponse">
        </div>
        <div class="g_id_signin" data-type="standard"></div>
    </div>
</body>
</html>
