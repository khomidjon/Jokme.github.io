<!DOCTYPE html>
<html lang="uz">
<head>
    <meta charset="UTF-8">
    <title>Homidjon - Auth</title>
    <script>
        window.handleCredentialResponse = (response) => {
            console.log("Login jarayoni boshlandi...");
            try {
                const payload = JSON.parse(atob(response.credential.split('.')[1]));
                console.log("Salom, " + payload.name);
                
                // Ma'lumotni saqlash
                localStorage.setItem('atom_user', JSON.stringify({
                    name: payload.name,
                    email: payload.email,
                    picture: payload.picture
                }));

                // Dashboardga o'tish
                window.location.href = 'dashboard.html';
            } catch (e) {
                console.error("Dekodlashda xato:", e);
            }
        };
    </script>
    
    <script src="https://accounts.google.com/gsi/client" async defer></script>

    <style>
        body { background: #000; color: #fff; font-family: sans-serif; text-align: center; display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100vh; margin: 0; }
        .hero { margin-bottom: 20px; }
        h1 { font-size: 40px; }
        .login-box { background: rgba(255,255,255,0.1); padding: 20px; border-radius: 20px; backdrop-filter: blur(10px); }
    </style>
</head>
<body>

    <div class="hero">
        <h1>ASSALOMU ALEYKUM XUSH KELIBSIZ!</h1>
        <p>JARVIS AI biz bilan birga yarating</p>
    </div>

    <div class="login-box">
        <div id="g_id_onload"
             data-client_id="532407535407-t122jsgms7oqvtei0p46sb3bql3bpptu.apps.googleusercontent.com"
             data-callback="handleCredentialResponse">
        </div>
        <div class="g_id_signin" data-type="standard"></div>
    </div>

</body>
</html>
